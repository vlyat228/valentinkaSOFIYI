<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¶–≤–µ—Ç–æ—á–Ω–∞—è –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ ‚ù§Ô∏è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            font-family: 'Arial', sans-serif;
            overflow-x: hidden;
            position: relative;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Ü–≤–µ—Ç–æ–≤ (–ø–∞–¥–∞—é—â–∏–µ —Ü–≤–µ—Ç–æ—á–∫–∏) */
        #flowersCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å –Ω–∞–∂–∞—Ç–∏—è–º –Ω–∞ –∫–Ω–æ–ø–∫–∏ */
            z-index: 5;
        }

        .container {
            text-align: center;
            background: rgba(255,  —Ä–æ–≤–Ω–æ 255, 255, 0.85);
            backdrop-filter: blur(5px);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 500px;
            width: 90%;
            position: relative;
            z-index: 10;
            margin: 20px;
            border: 2px solid rgba(255, 255, 255, 0.5);
        }

        .hidden {
            display: none !important;
        }

        .start-btn {
            background: #ff4d6d;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 2px solid white;
            box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4);
        }

        .start-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 25px rgba(255, 77, 109, 0.7);
        }

        .valentine-card {
            transition: all 0.3s ease;
        }

        .image-section img {
            max-width: 300px;
            width: 100%;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            background: #ffe0e0;
            border: 3px solid white;
        }

        .question {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 20px;
            font-weight: bold;
            text-shadow: 2px 2px 0 rgba(255, 255, 255, 0.5);
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            align-items: center;
            min-height: 80px;
            flex-wrap: wrap;
        }

        .btn-yes, .btn-no {
            border: none;
            padding: 12px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .btn-yes {
            background: #4caf50;
            color: white;
        }

        .btn-no {
            background: #f44336;
            color: white;
        }

        .btn-yes:hover {
            background: #45a049;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-no:hover {
            background: #d32f2f;
            box-shadow: 0 5px 15px rgba(244, 67, 54, 0.4);
        }

        .final-image {
            max-width: 400px;
            width: 100%;
            border-radius: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: pulse 2s infinite;
            border: 4px solid white;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }

        .final-message {
            font-size: 2rem;
            color: #ff4d6d;
            margin-top: 20px;
            font-weight: bold;
            text-shadow: 2px 2px 0 white;
        }

        .no-count {
            font-size: 0.9rem;
            color: #444;
            margin-top: 10px;
            background: rgba(255,255,240,0.7);
            padding: 5px 15px;
            border-radius: 30px;
            display: inline-block;
        }

        .main-page-link {
            display: inline-block;
            margin-top: 20px;
            padding: 12px 30px;
            background: #ff4d6d;
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-size: 1.2rem;
            transition: transform 0.3s;
            border: 2px solid white;
        }

        .main-page-link:hover {
            transform: scale(1.1);
            background: #ff3355;
        }
    </style>
</head>
<body>
    <!-- –•–æ–ª—Å—Ç –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Ü–≤–µ—Ç–æ–≤ (–ø–∞–¥–∞—é—â–∏–µ —Ü–≤–µ—Ç—ã) -->
    <canvas id="flowersCanvas"></canvas>

    <div class="container">
        <!-- –ù–∞—á–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ -->
        <button id="startBtn" class="start-btn">üíê –ü–æ–ª—É—á–∏—Ç—å –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫—É üíå</button>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç–∞) -->
        <div id="valentineCard" class="valentine-card hidden">
            <div class="image-section">
                <!-- –ü–µ—Ä–≤–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ (–±—É–¥–µ—Ç –∑–∞–º–µ–Ω—è—Ç—å—Å—è) -->
                <img id="mainImage" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'%3E%3Crect width='300' height='200' fill='%23ff9a9e'/%3E%3Ctext x='40' y='120' font-family='Arial' font-size='26' fill='white' textLength='220' lengthAdjust='spacing'%3Eüå∑ –¶–≤–µ—Ç–æ–∫ –ª—é–±–≤–∏ üå∑%3C/text%3E%3Ccircle cx='150' cy='140' r='20' fill='%23ffcccc'/%3E%3C/svg%3E" alt="–¶–≤–µ—Ç–æ–∫">
            </div>
            <div class="question">–¢—ã –≥–æ—Ç–æ–≤–∞ —Å—Ç–∞—Ç—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?</div>
            <div class="buttons">
                <button id="yesBtn" class="btn-yes">–î–∞ ‚ù§Ô∏è</button>
                <button id="noBtn" class="btn-no">–ù–µ—Ç üò¢</button>
            </div>
            <div id="noCount" class="no-count"></div>
        </div>

        <!-- –§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç) -->
        <div id="finalScreen" class="valentine-card hidden">
            <img class="final-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'%3E%3Crect width='400' height='300' fill='%23ffb6c1'/%3E%3Ctext x='60' y='120' font-family='Arial' font-size='40' fill='white'%3E‚ù§Ô∏è –° –î–Ω—ë–º%3C/text%3E%3Ctext x='50' y='180' font-family='Arial' font-size='40' fill='white'%3E–°–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞!%3C/text%3E%3Ccircle cx='200' cy='230' r='40' fill='%23ff4d6d'/%3E%3Ctext x='185' y='245' font-family='Arial' font-size='30' fill='white'%3E‚ù§Ô∏è%3C/text%3E%3C/svg%3E" alt="–§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–µ—Ä–¥–µ—á–∫–æ">
            <div class="final-message">–¢—ã —Å–æ–≥–ª–∞—Å–∏–ª–∞—Å—å! ‚ù§Ô∏è</div>
            <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (–º–æ–∂–µ—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å URL) -->
            <a href="#" id="mainPageLink" class="main-page-link">üå∏ –ù–∞ –≥–ª–∞–≤–Ω—É—é üå∏</a>
        </div>
    </div>

    <script>
        (function() {
            // --- –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–∞—é—â–∏—Ö —Ü–≤–µ—Ç–æ–≤ (–Ω–∞ –∫–∞–Ω–≤–∞—Å–µ) ---
            const canvas = document.getElementById('flowersCanvas');
            const ctx = canvas.getContext('2d');
            let width, height;
            let flowers = [];
            const FLOWER_COUNT = 35; // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–≤–µ—Ç–æ—á–∫–æ–≤

            // –¶–≤–µ—Ç–∞ –¥–ª—è —Ü–≤–µ—Ç–æ–≤ (–Ω–µ–∂–Ω—ã–µ –æ—Ç—Ç–µ–Ω–∫–∏)
            const colors = ['#ffb7c5', '#ff9fbb', '#ff85a1', '#ff6b8b', '#ff4770', '#ff3355', '#ff4d6d', '#fba0b3', '#fb8da1', '#ffe0f0'];

            function initCanvas() {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
                
                // –°–æ–∑–¥–∞–µ–º —Ü–≤–µ—Ç–æ—á–∫–∏
                flowers = [];
                for (let i = 0; i < FLOWER_COUNT; i++) {
                    flowers.push({
                        x: Math.random() * width,
                        y: Math.random() * height - height, // –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞ –≤–µ—Ä—Ö–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ–π
                        size: 10 + Math.random() * 20, // —Ä–∞–∑–º–µ—Ä –æ—Ç 10 –¥–æ 30
                        speed: 1 + Math.random() * 3, // —Å–∫–æ—Ä–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è
                        color: colors[Math.floor(Math.random() * colors.length)],
                        rotation: Math.random() * Math.PI * 2, // –Ω–∞—á–∞–ª—å–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç
                        rotSpeed: (Math.random() - 0.5) * 0.02, // —Å–∫–æ—Ä–æ—Å—Ç—å –≤—Ä–∞—â–µ–Ω–∏—è
                        sway: Math.random() * 0.5, // –∞–º–ø–ª–∏—Ç—É–¥–∞ –ø–æ–∫–∞—á–∏–≤–∞–Ω–∏—è
                        offsetX: Math.random() * 100 // —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è —Å–∏–Ω—É—Å–æ–∏–¥—ã
                    });
                }
            }

            // –†–∏—Å—É–µ–º —Ü–≤–µ—Ç–æ—á–µ–∫ (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π, –Ω–æ —Å–∏–º–ø–∞—Ç–∏—á–Ω—ã–π)
            function drawFlower(flower) {
                ctx.save();
                ctx.translate(flower.x + Math.sin(Date.now() * 0.002 + flower.offsetX) * flower.sway * 5, flower.y); // –ª–µ–≥–∫–æ–µ –ø–æ–∫–∞—á–∏–≤–∞–Ω–∏–µ
                ctx.rotate(flower.rotation);
                
                // –õ–µ–ø–µ—Å—Ç–∫–∏ (4 —ç–ª–ª–∏–ø—Å–∞ –≤–æ–∫—Ä—É–≥ —Ü–µ–Ω—Ç—Ä–∞)
                ctx.fillStyle = flower.color;
                for (let i = 0; i < 4; i++) {
                    ctx.save();
                    ctx.rotate(i * Math.PI / 2); // –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ 90 –≥—Ä–∞–¥—É—Å–æ–≤
                    ctx.beginPath();
                    ctx.ellipse(flower.size * 0.3, 0, flower.size * 0.4, flower.size * 0.2, 0, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.restore();
                }
                
                // –¶–µ–Ω—Ç—Ä —Ü–≤–µ—Ç–∫–∞ (–∂–µ–ª—Ç—ã–π –∏–ª–∏ —Ä–æ–∑–æ–≤—ã–π)
                ctx.fillStyle = '#fffacd'; // –ª–∏–º–æ–Ω–Ω—ã–π
                ctx.beginPath();
                ctx.arc(0, 0, flower.size * 0.2, 0, Math.PI * 2);
                ctx.fill();
                
                // –ú–∞–ª–µ–Ω—å–∫–∏–π —Ü–µ–Ω—Ç—Ä
                ctx.fillStyle = '#ffb347';
                ctx.beginPath();
                ctx.arc(0, 0, flower.size * 0.1, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.restore();
            }

            function updateFlowers() {
                // –û—á–∏—â–∞–µ–º –∫–∞–Ω–≤–∞—Å —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º —Ñ–æ–Ω–æ–º (—á—Ç–æ–±—ã –±—ã–ª –≤–∏–¥–µ–Ω –≥—Ä–∞–¥–∏–µ–Ω—Ç body)
                ctx.clearRect(0, 0, width, height);
                
                for (let f of flowers) {
                    // –î–≤–∏–∂–µ–Ω–∏–µ –≤–Ω–∏–∑
                    f.y += f.speed;
                    // –í—Ä–∞—â–µ–Ω–∏–µ
                    f.rotation += f.rotSpeed;
                    
                    // –ï—Å–ª–∏ —Ü–≤–µ—Ç–æ–∫ —É—à–µ–ª –∑–∞ –Ω–∏–∂–Ω—é—é –≥—Ä–∞–Ω–∏—Ü—É, –ø–µ—Ä–µ–º–µ—â–∞–µ–º –Ω–∞–≤–µ—Ä—Ö
                    if (f.y > height + f.size * 2) {
                        f.y = -f.size * 2;
                        f.x = Math.random() * width;
                    }
                    
                    drawFlower(f);
                }
                
                requestAnimationFrame(updateFlowers);
            }

            window.addEventListener('resize', () => {
                initCanvas();
            });

            // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
            initCanvas();
            updateFlowers();

            // --- –õ–æ–≥–∏–∫–∞ –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏ (–∏–∑ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏) ---
            document.addEventListener('DOMContentLoaded', function() {
                const startBtn = document.getElementById('startBtn');
                const valentineCard = document.getElementById('valentineCard');
                const finalScreen = document.getElementById('finalScreen');
                const yesBtn = document.getElementById('yesBtn');
                const noBtn = document.getElementById('noBtn');
                const noCount = document.getElementById('noCount');
                const mainImage = document.getElementById('mainImage');
                const mainPageLink = document.getElementById('mainPageLink');

                let noClickCount = 0;
                const maxNoClicks = 4;

                // –ú–∞—Å—Å–∏–≤ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ (–±–æ–ª–µ–µ —Ü–≤–µ—Ç–æ—á–Ω—ã–µ)
                const images = [
                    "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'%3E%3Crect width='300' height='200' fill='%23ffb3ba'/%3E%3Ctext x='50' y='120' font-family='Arial' font-size='24' fill='white'%3Eüå∫ –ü–µ—Ä–≤—ã–π —Ü–≤–µ—Ç–æ—á–µ–∫ üå∫%3C/text%3E%3C/svg%3E",
                    "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'%3E%3Crect width='300' height='200' fill='%23ffdfba'/%3E%3Ctext x='40' y='120' font-family='Arial' font-size='24' fill='white'%3Eüå∏ –í—Ç–æ—Ä–æ–π —Ü–≤–µ—Ç–æ—á–µ–∫ üå∏%3C/text%3E%3C/svg%3E",
                    "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'%3E%3Crect width='300' height='200' fill='%23bae1ff'/%3E%3Ctext x='40' y='120' font-family='Arial' font-size='24' fill='white'%3Eüåº –¢—Ä–µ—Ç–∏–π —Ü–≤–µ—Ç–æ—á–µ–∫ üåº%3C/text%3E%3C/svg%3E",
                    "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'%3E%3Crect width='300' height='200' fill='%23c0e8d5'/%3E%3Ctext x='40' y='120' font-family='Arial' font-size='24' fill='white'%3Eüå∑ –ß–µ—Ç–≤–µ—Ä—Ç—ã–π —Ü–≤–µ—Ç–æ–∫ üå∑%3C/text%3E%3C/svg%3E"
                ];

                startBtn.addEventListener('click', function() {
                    startBtn.classList.add('hidden');
                    valentineCard.classList.remove('hidden');
                    resetButtons();
                });

                function resetButtons() {
                    noClickCount = 0;
                    noCount.textContent = '';
                    yesBtn.style.transform = 'scale(1)';
                    noBtn.style.transform = 'scale(1)';
                    noBtn.style.display = 'inline-block';
                    yesBtn.style.fontSize = '1.2rem';
                    mainImage.src = images[0];
                }

                noBtn.addEventListener('click', function() {
                    if (noClickCount < maxNoClicks - 1) {
                        noClickCount++;
                        
                        // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–î–∞"
                        const newYesScale = 1 + (noClickCount * 0.3);
                        yesBtn.style.transform = `scale(${newYesScale})`;
                        yesBtn.style.fontSize = `${1.2 + (noClickCount * 0.2)}rem`;
                        
                        // –£–º–µ–Ω—å—à–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–µ—Ç"
                        const newNoScale = 1 - (noClickCount * 0.15);
                        noBtn.style.transform = `scale(${Math.max(0.4, newNoScale)})`;
                        
                        // –ú–µ–Ω—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É
                        if (noClickCount < images.length) {
                            mainImage.src = images[noClickCount];
                        }
                        
                        noCount.textContent = `–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: ${maxNoClicks - noClickCount}`;
                    } else {
                        noBtn.style.display = 'none';
                        noCount.textContent = '–í—ã–±–æ—Ä–∞ –Ω–µ—Ç! –¢–æ–ª—å–∫–æ –î–ê! üòä';
                        yesBtn.style.transform = 'scale(2.2)';
                        yesBtn.style.fontSize = '2rem';
                        
                        // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–ª–∏–∫ –Ω–∞ "–î–∞" (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)
                        setTimeout(() => {
                            yesBtn.click();
                        }, 600);
                    }
                });

                yesBtn.addEventListener('click', function() {
                    valentineCard.classList.add('hidden');
                    finalScreen.classList.remove('hidden');
                });

                mainPageLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    // –ó–∞–º–µ–Ω–∏—Ç–µ alert –Ω–∞ –ø–µ—Ä–µ—Ö–æ–¥, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                    alert('üíñ –° –ª—é–±–æ–≤—å—é, —Ç–≤–æ—è –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞! üíñ');
                    // window.location.href = 'https://example.com'; 
                });

                // –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è "–î–∞", –µ—Å–ª–∏ "–ù–µ—Ç" –∏—Å—á–µ–∑–ª–æ
                const observer = new MutationObserver(function(mutations) {
                    mutations.forEach(function(mutation) {
                        if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                            if (noBtn.style.display === 'none') {
                                // –£–∂–µ –µ—Å—Ç—å —Ç–∞–π–º–∞—É—Ç –≤—ã—à–µ, –Ω–æ –æ—Å—Ç–∞–≤–∏–º –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏
                            }
                        }
                    });
                });
                observer.observe(noBtn, { attributes: true });
            });
        })();
    </script>
</body>
</html>